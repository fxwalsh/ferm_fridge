{"version":1,"allow_edit":true,"plugins":["/views/board/tutorial.min.js","/plugins/all"],"panes":[{"title":"Sensors","width":1,"row":{"2":1,"3":1,"4":1},"col":{"2":1,"3":1,"4":1},"col_width":1,"widgets":[{"type":"gauge_widget","settings":{"title":"Beer Temp","value":"datasources[\"brew_data\"][\"beerTemp\"]","units":"Celcius","min_value":0,"max_value":"40"}},{"type":"gauge_widget","settings":{"title":"Fridge Temp","value":"datasources[\"brew_data\"][\"fridgeTemp\"]","units":"Celcius","min_value":0,"max_value":"40"}}]},{"title":"Actuators","width":1,"row":{"2":1,"3":1,"4":1},"col":{"2":2,"3":3,"4":3},"col_width":1,"widgets":[{"type":"indicator_widget","settings":{"title":"Cooling","value":"if (datasources[\"brew_data\"][\"state\"]==\"COOLING\")\n    return 1;\nelse\n    return 0;\n\n","on_text":"return \"for \" + Math.floor((datasources[\"brew_data\"][\"timeElapsed\"])/60) + \" mins \" +  Math.floor((datasources[\"brew_data\"][\"timeElapsed\"])%60) + \" secs\"","off_text":"Off"}},{"type":"indicator_widget","settings":{"title":"Heating","value":"if (datasources[\"brew_data\"][\"state\"]==\"HEATING\")\nreturn 1;\nelse\nreturn 0;","on_text":"return \"for \" + Math.floor((datasources[\"brew_data\"][\"timeElapsed\"])/60) + \" mins \" +  Math.floor((datasources[\"brew_data\"][\"timeElapsed\"])%60) + \" secs\"","off_text":"Off"}},{"type":"indicator_widget","settings":{"title":"Idle","value":"if (datasources[\"brew_data\"][\"state\"]==\"IDLE\")\nreturn 1;\nelse\nreturn 0;","on_text":"return \"for \" + Math.floor((datasources[\"brew_data\"][\"timeElapsed\"])/60) + \" mins \" +  Math.floor((datasources[\"brew_data\"][\"timeElapsed\"])%60) + \" secs\""}}]},{"title":"The situation","width":1,"row":{"2":9,"3":1,"4":1},"col":{"2":2,"3":2,"4":2},"col_width":1,"widgets":[{"type":"text_widget","settings":{"title":"Target Fermentation Temp","size":"regular","value":"datasources[\"brew_data\"][\"setPoint\"]","animate":true,"units":"Celcius"}},{"type":"text_widget","settings":{"title":"Temp Diff","size":"regular","value":"Math.round((datasources[\"brew_data\"][\"beerTemp\"] - datasources[\"brew_data\"][\"setPoint\"])*100)/100","sparkline":false,"animate":true,"units":"Celcius"}},{"type":"text_widget","settings":{"title":"Last Update","size":"regular","value":"// For the time now\nDate.prototype.timeNow = function () {\n     return ((this.getHours() < 10)?\"0\":\"\") + this.getHours() +\":\"+ ((this.getMinutes() < 10)?\"0\":\"\") + this.getMinutes() +\":\"+ ((this.getSeconds() < 10)?\"0\":\"\") + this.getSeconds();\n}\nvar currentdate = new Date();\nif (datasources[\"brew_data\"]) return currentdate.timeNow();","animate":true}},{"type":"sparkline_widget","settings":{"title":"Temps","value":["datasources[\"brew_data\"][\"beerTemp\"]","datasources[\"brew_data\"][\"setPoint\"]","datasources[\"brew_data\"][\"fridgeTemp\"]"],"include_legend":true,"legend":"Beer, Target, Fridge"}}]},{"title":"History","width":1,"row":{"2":15,"3":9,"4":1},"col":{"2":1,"3":3,"4":4},"col_width":"1","widgets":[{"type":"text_widget","settings":{"title":"Heating","size":"regular","value":"return Math.floor((datasources[\"brew_data\"][\"times\"][2])/60/60) +\" hours \"+Math.floor((datasources[\"brew_data\"][\"times\"][2])/60%60)+\" mins\" ","animate":true,"units":""}},{"type":"text_widget","settings":{"title":"Cooling","size":"regular","value":"return Math.floor((datasources[\"brew_data\"][\"times\"][1])/60)","animate":true,"units":"Minutes"}},{"type":"text_widget","settings":{"title":"Idle","size":"regular","value":"return Math.floor((datasources[\"brew_data\"][\"times\"][0])/60/60) +\" hours \"+Math.floor((datasources[\"brew_data\"][\"times\"][0])/60%60)+\" mins\"","animate":true,"units":""}}]}],"datasources":[{"name":"brew_data","type":"plugin5376758af1776c1c2e000326","settings":{"subscribe_key":"sub-c-548c158a-eeea-11e5-ab43-02ee2ddab7fe","channel":"brew_data","name":"brew_data"}}],"columns":4}